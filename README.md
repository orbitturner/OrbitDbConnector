# üíæ OrbitDbConnector üöÄ

[![Version](https://img.shields.io/npm/v/orbitdbconnector.svg)](https://www.npmjs.com/package/orbit-db-connector)
[![License](https://img.shields.io/npm/l/orbitdbconnector.svg)](https://github.com/orbitturner/OrbitDbConnector/blob/main/LICENSE)
[![GitHub issues](https://img.shields.io/github/issues/orbitturner/OrbitDbConnector.svg)](https://github.com/orbitturner/OrbitDbConnector/issues)
[![GitHub stars](https://img.shields.io/github/stars/orbitturner/OrbitDbConnector.svg)](https://github.com/orbitturner/OrbitDbConnector/stargazers)

## **üîå Un moyen simple et performant de vous connecter √† une ou plusieurs bases de donn√©es avec Node.js ! üåü**

<p align="center">
  <a href="http://orbitturner.com/"><img src="https://cdn.discordapp.com/attachments/788166136382226463/1111205097259679804/ORBIT_DB_CONNECTOR.gif" width="auto" alt="Orbit DB Connector Presentation"/></a>
</p>

OrbitDbConnector est un package innovant con√ßu pour les d√©veloppeurs soucieux des performances, qui veulent simplifier la gestion des connexions √† leurs bases de donn√©es. Que vous ayez besoin de vous connecter √† une base de donn√©es ou √† plusieurs bases de donn√©es, OrbitDbConnector facilite grandement le processus et vous permet de gagner du temps ‚è∞ et de l'√©nergie ‚ö°Ô∏è.

## Pourquoi choisir OrbitDbConnector ? ü§î

‚úÖ **Facile √† utiliser** : Avec OrbitDbConnector, vous pouvez vous connecter √† vos bases de donn√©es en seulement quelques lignes de code. Son API simple et intuitive vous permet de configurer rapidement vos connexions et de les utiliser dans votre application.

‚úÖ **Connexions dynamiques** : OrbitDbConnector vous permet de g√©rer dynamiquement vos connexions √† travers un tableau interne intelligent. Il r√©utilise les connexions existantes qui correspondent aux m√™mes crit√®res de connexion, ce qui √©vite les frais g√©n√©raux li√©s √† la cr√©ation de nouvelles connexions √† chaque requ√™te.

‚úÖ **Performances optimis√©es** : En utilisant un moteur modifi√© de TypeORM et des techniques avanc√©es de gestion des connexions, OrbitDbConnector garantit des performances exceptionnelles. Il minimise les temps de latence, r√©duit la charge sur vos bases de donn√©es et optimise le temps de r√©ponse de vos requ√™tes.

‚úÖ **Compatible avec TypeORM** : OrbitDbConnector est construit sur la base solide de TypeORM, une biblioth√®que d'ORM populaire pour Node.js. Il b√©n√©ficie de toutes les fonctionnalit√©s avanc√©es de TypeORM, vous offrant ainsi une exp√©rience de d√©veloppement compl√®te et puissante.

‚úÖ **Multitudes de Bases / Drivers** : OrbitDbConnector prend en charge la connexion √† quasi toute les Bases de Donn√©es üòâ : "mysql", "postgres", "cockroachdb", "sap", "spanner", "mariadb", "sqlite", "cordova", "react-native", "nativescript", "sqljs", "oracle", "mssql", "mongodb", "aurora-mysql", "aurora-postgres", "expo", "better-sqlite3", "capacitor". üî•üî•


## Installation üì¶

Pour installer OrbitDbConnector, utilisez la commande suivante :

```shell
npm install orbitdbconnector --save

or 

yarn add orbitdbconnector
```

## Utilisation üí°
Importez OrbitDbConnector dans votre projet :

```typescript
import { OrbitDbConnector } from 'orbit-db-connector';
```

### M√©thode doConnection
La m√©thode doConnection est la passerelle utilis√©e pour ex√©cuter le connecteur Orbit et renvoyer les nouvelles donn√©es de connexion √† l'appelant. Elle accepte les param√®tres connectionProps (options de connexion) et entities (entit√©s li√©es √† la base de donn√©es) et renvoie une promesse contenant l'objet DataSource correspondant √† la connexion √©tablie.

* **üö© Exemple d'utilisation avec une entit√© TypeORM:**
Vous pouvez vous connectez √† une base sur une table pr√©cise et b√©n√©ficier du typage dynamique et des fonctionnalit√©s de TypeORM rien qu'en passant une entit√© TypeORM √† la m√©thode doConnection.
```typescript	
const orbitDbConnector = new OrbitDbConnector();

const dbCon = await orbitDbConnector.doConnection(
  {
    name: process.env['DB0_name'],
    type: process.env['DB0_type'],
    host: process.env['DB0_host'],
    port: +process.env['DB0_port'],
    username: process.env['DB0_username'],
    password: process.env['DB0_password'],
    database: process.env['DB0_database'],
    autoLoadEntities: true,
    synchronize: false,
  },
  [QcwsSettings]
);

const smbSharesList = await dbCon.manager.findOne(QcwsSettings, {
  where: { name: 'SMB_SHARES' },
});

console.log(smbSharesList);
```

Dans cet exemple, nous utilisons OrbitDbConnector avec une entit√© TypeORM appel√©e QcwsSettings. Nous cr√©ons une instance d'OrbitDbConnector, puis nous utilisons la m√©thode doConnection pour √©tablir une connexion √† une base de donn√©es sp√©cifique en passant les options de connexion et l'entit√© TypeORM. Ensuite, nous utilisons la connexion √©tablie (dbCon) pour effectuer des op√©rations sur la base de donn√©es, comme trouver un enregistrement avec certaines conditions.

* **üö© Exemple d'utilisation sans entit√© :**
Vous pouvez, si vous le souhaitez, vous connecter √† une base de donn√©es sans entit√© TypeORM. Cela peut √™tre utile si vous souhaitez simplement ex√©cuter des requ√™tes SQL brutes sur une base de donn√©es sans avoir √† cr√©er une entit√© TypeORM pour elle ou si vous souhaitez √† partir d'une seule connexion, ex√©cuter des requ√™tes sur plusieurs tables diff√©rentes.

```typescript
const orbitDbConnector = new OrbitDbConnector();

const dbCon = await orbitDbConnector.doConnection({
  name: process.env['DB0_name'],
  type: process.env['DB0_type'],
  host: process.env['DB0_host'],
  port: +process.env['DB0_port'],
  username: process.env['DB0_username'],
  password: process.env['DB0_password'],
  database: process.env['DB0_database'],
  autoLoadEntities: true,
  synchronize: false,
}, 'name');

const indice = await dbCon.manager.query(
  `SELECT MAX(INDICE) AS lastindice FROM ${campainMapping.tableClient}`,
);

console.log(indice);
```

Dans cet exemple, nous utilisons OrbitDbConnector sans entit√© TypeORM sp√©cifique. Nous cr√©ons une instance d'OrbitDbConnector, puis nous utilisons la m√©thode doConnection pour √©tablir une connexion √† une base de donn√©es sp√©cifique en passant les options de connexion. Ensuite, nous utilisons la connexion √©tablie (dbCon) pour ex√©cuter une requ√™te personnalis√©e en utilisant dbCon.manager.query.

### Configuration des options de connexion
L'objet `connectionProps` pass√© √† la m√©thode `doConnection` doit contenir les options de connexion suivantes :

- `name`: Le nom de la connexion.
- `type`: Le type de la base de donn√©es (par exemple, "mysql", "postgres", "mongodb", etc.).
- `host`: L'h√¥te de la base de donn√©es.
- `port`: Le port de la base de donn√©es.
- `username`: Le nom d'utilisateur pour la connexion √† la base de donn√©es.
- `password`: Le mot de passe pour la connexion √† la base de donn√©es.
- `database`: Le nom de la base de donn√©es.
- `autoLoadEntities`: Une valeur bool√©enne indiquant si les entit√©s doivent √™tre automatiquement charg√©es √† partir du r√©pertoire sp√©cifi√©.
- `synchronize`: Une valeur bool√©enne indiquant si la synchronisation automatique des sch√©mas de base de donn√©es doit √™tre activ√©e.

Si vous sp√©cifiez des entit√©s (`entities`) dans la m√©thode `doConnection`, OrbitDbConnector utilise le nom de la premi√®re entit√© pour effectuer une correspondance plus pr√©cise lors de la recherche d'une connexion existante dans le tableau interne. Cela garantit que la correspondance est bas√©e sur le nom de la base de donn√©es et le nom de la table associ√©e √† l'entit√©.

Notez que ces options sont ceux que prennent aussi un DataSource TypeORM. Pour plus d'informations, consultez la documentation de [TypeORM](https://typeorm.io/data-source-options).

## Fonctionnalit√©s

- **Connexion √† plusieurs bases de donn√©es** : OrbitDbConnector vous permet de vous connecter facilement √† plusieurs bases de donn√©es en utilisant les options de connexion de TypeORM.

- **Gestion automatique des connexions existantes** : Lorsque vous utilisez la m√©thode `doConnection`, OrbitDbConnector v√©rifie s'il existe d√©j√† une connexion pour les m√™mes param√®tres de connexion et entit√©s. Si une connexion existante est trouv√©e, elle est renvoy√©e au lieu d'√©tablir une nouvelle connexion.

- **Gestion des connexions r√©utilisables** : Une fois qu'une connexion est √©tablie avec succ√®s, OrbitDbConnector la stocke dans un tableau interne pour une utilisation future de mani√®re totalement automatique. Lorsque la m√©thode doConnection est appel√©e avec des options de connexion d√©j√† existantes, OrbitDbConnector r√©cup√®re la connexion existante plut√¥t que d'en cr√©er une nouvelle en √©vitant les op√©rations co√ªteuses de cr√©ation de nouvelles connexions √† chaque fois.

## Performance

OrbitDbConnector offre des am√©liorations significatives de performance par rapport √† une approche traditionnelle de gestion des connexions √† plusieurs bases de donn√©es. Voici en quoi OrbitDbConnector se distingue :

### * R√©utilisation intelligente des connexions

L'une des forces d'OrbitDbConnector r√©side dans sa capacit√© √† r√©utiliser intelligemment les connexions existantes. En utilisant un m√©canisme de correspondance bas√© sur des crit√®res tels que le nom de la connexion, le nom de la base de donn√©es et le nom de la table associ√©e √† l'entit√©, OrbitDbConnector peut identifier rapidement si une connexion correspondante existe d√©j√† dans le tableau `ODConnectionArray`. Cette approche garantit une correspondance pr√©cise entre la requ√™te et la connexion, permettant ainsi une r√©utilisation efficace des connexions existantes. La r√©utilisation des connexions r√©duit les temps de latence associ√©s √† la cr√©ation et √† la fermeture de connexions √† chaque requ√™te, am√©liorant ainsi les performances globales.

### * Optimisations de TypeORM

OrbitDbConnector est construit sur la base de TypeORM, une biblioth√®que d'ORM populaire pour Node.js. En utilisant un moteur modifi√© de TypeORM, OrbitDbConnector int√®gre des optimisations sp√©cifiques pour g√©rer efficacement les connexions multiples et maximiser les performances des op√©rations de base de donn√©es. Ces optimisations incluent la mise en cache des m√©tadonn√©es des entit√©s, la gestion fine des transactions et l'utilisation de requ√™tes pr√©par√©es. Ces am√©liorations techniques contribuent √† r√©duire la charge sur la base de donn√©es, √† am√©liorer le temps de r√©ponse des requ√™tes et √† optimiser les performances globales de l'application.

Gr√¢ce √† ces techniques avanc√©es de gestion des connexions et aux optimisations de TypeORM, OrbitDbConnector permet d'obtenir des performances exceptionnelles lors de l'acc√®s √† des bases de donn√©es multiples, offrant ainsi une exp√©rience utilisateur fluide et une ex√©cution rapide des op√©rations de base de donn√©es.

Commencez d√®s maintenant √† connecter facilement vos bases de donn√©es avec style et performance gr√¢ce √† OrbitDbConnector !



## Configuration

Avant d'utiliser OrbitDbConnector, assurez-vous d'avoir les informations de connexion correctes pour vos bases de donn√©es. Vous pouvez les stocker dans des variables d'environnement ou les inclure directement dans votre code.

## API

### Classe `OrbitDbConnector`

La classe `OrbitDbConnector` repr√©sente le point d'entr√©e principal de la biblioth√®que. Elle expose une m√©thode `doConnection` pour √©tablir des connexions √† des bases de donn√©es.

#### M√©thode `doConnection(connectionProps: DataSourceOptions, entities?: (string | EntitySchema<any> | EntityClassOrSchema)[]): Promise<DataSource>`

La m√©thode `doConnection` permet d'√©tablir une connexion √† une base de donn√©es en utilisant les options de connexion `connectionProps` fournies. Vous pouvez √©galement sp√©cifier les entit√©s li√©es √† la base de donn√©es en utilisant le param√®tre `entities`. Cette m√©thode renvoie une promesse contenant l'objet `DataSource` correspondant √† la connexion √©tablie.

## Next Steps / Coming Soon
- CLI Tool for DB Connections.
- Website & Documentation.
- ...

### Licence

OrbitDbConnector est distribu√© sous la licence MIT. Pour plus d'informations, veuillez consulter le fichier [LICENSE](https://github.com/orbitturner/OrbitDbConnector/blob/main/LICENSE).

## Contributions

Les contributions sont les bienvenues ! Si vous souhaitez am√©liorer OrbitDbConnector, veuillez consulter les [instructions de contribution](https://github.com/orbitturner/OrbitDbConnector/blob/main/CONTRIBUTING.md) pour savoir comment commencer.

1. Forkez le projet depuis [le d√©p√¥t GitHub](https://github.com/orbitturner/OrbitDbConnector).
2. Cr√©ez une branche pour votre fonctionnalit√© ou correction de bug : `git checkout -b ma-branche`.
3. Faites vos modifications et commit : `git commit -m "Ma modification"`.
4. Poussez les modifications vers votre d√©p√¥t : `git push origin ma-branche`.
5. Ouvrez une pull request vers la branche `main` du d√©p√¥t OrbitDbConnector.

## Auteur

OrbitDbConnector a √©t√© d√©velopp√© par [OrbitTurner](https://github.com/OrbitTurner).

Pour plus d'informations, vous pouvez me contacter par e-mail √† [orbitturner@gmail.com](mailto:orbitturner@gmail.com)

---

Merci d'avoir choisi OrbitDbConnector ! Nous esp√©rons que cette biblioth√®que vous aidera √† simplifier et √† am√©liorer vos connexions dynamiques.
<h2 align="left">üöÄFOLLOW THE ADVENTURE ! <img src="https://raw.githubusercontent.com/MartinHeinz/MartinHeinz/master/wave.gif" width="30px"> üöÄ</h2>

```
*
*
*     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó 
*    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù    ‚ïö‚ïê‚ïê‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
*    ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë          ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
*    ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë          ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
*    ‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë          ‚ñà‚ñà‚ïë   ‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë
*     ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù   ‚ïö‚ïê‚ïù          ‚ïö‚ïê‚ïù    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù
*   
*
```
*Better Things are Comming !*

<br/>


______________________________________________________
**‚ù§ KEEP GOING FURTHER ‚ù§**


<img src="https://github.com/orbitturner/challenger/blob/master/images/OrbitTurner_Gaming_GitHubBadge.png?raw=true" align="right" />